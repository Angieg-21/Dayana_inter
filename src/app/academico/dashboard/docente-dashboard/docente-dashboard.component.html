<div class="page-wrapper">
    <div class="content">
    
        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a [routerLink]="routes.adminDashboard">Panel </a></li>
                        <li class="breadcrumb-item"><i class="feather icon-chevron-right"></i></li>
                        <li class="breadcrumb-item active">Panel Docente</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /Page Header -->
        
        <div class="good-morning-blk">
            <div class="row">
                <!-- Columna izquierda: Mensaje de bienvenida -->
                <div class="col-md-6">
                    <div class="morning-user">
                        <h2>Bienvenido <span>Dr. {{ userName }}</span></h2>
                        <p>Esperamos que tengas un día productivo atendiendo a nuestros estudiantes.</p>
                    </div>
                </div>
                
                <!-- Columna derecha: Imagen de atención a estudiantes -->
                <div class="col-md-6 position-blk">
                    <div class="morning-img">
                        <!-- Imagen relacionada con el sistema de atención a estudiantes -->
                        <img src="assets/icon2/tutor-icon.svg" alt="Atención a estudiantes">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="student-attendance-blk">
            <div class="row">
                <!-- Atenciones realizadas -->
                <div class="col-xl-3 col-md-6">
                    <div class="attendance-widget border-right-bg">
                        <div class="attendance-box-icon flex-shrink-0">
                            <img src="assets/img/icons/student-attendance-01.svg" alt="Atenciones Realizadas">
                        </div>
                        <div class="attendance-content dash-count flex-grow-1">
                            <h4><span class="counter-up" [countUp]="30" [options]="{duration: 10}">30</span><span>/100</span><span class="status-green">+60%</span></h4>
                            <h5>Atenciones Realizadas</h5>
                        </div>
                    </div>
                </div>
        
                <!-- Consultas atendidas -->
                <div class="col-xl-3 col-md-6">
                    <div class="attendance-widget border-right-bg">
                        <div class="attendance-box-icon flex-shrink-0">
                            <img src="assets/img/icons/student-attendance-02.svg" alt="Consultas Atendidas">
                        </div>
                        <div class="attendance-content dash-count flex-grow-1">
                            <h4><span class="counter-up" [countUp]="20" [options]="{duration: 10}">20</span><span>/80</span><span class="status-pink">-25%</span></h4>
                            <h5>Consultas Atendidas</h5>
                        </div>
                    </div>
                </div>
        
                <!-- Tareas Completadas -->
                <div class="col-xl-3 col-md-6">
                    <div class="attendance-widget border-right-bg">
                        <div class="attendance-box-icon flex-shrink-0">
                            <img src="assets/img/icons/student-attendance-03.svg" alt="Tareas Completadas">
                        </div>
                        <div class="attendance-content dash-count flex-grow-1">
                            <h4><span class="counter-up" [countUp]="12" [options]="{duration: 10}">12</span><span>/40</span><span class="status-green">+30%</span></h4>
                            <h5>Tareas Completadas</h5>
                        </div>
                    </div>
                </div>
        
                <!-- Estudiantes atendidos -->
                <div class="col-xl-3 col-md-6">
                    <div class="attendance-widget">
                        <div class="attendance-box-icon flex-shrink-0">
                            <img src="assets/img/icons/student-attendance-04.svg" alt="Estudiantes Atendidos">
                        </div>
                        <div class="attendance-content dash-count flex-grow-1">
                            <h4><span class="counter-up" [countUp]="530" [options]="{duration: 10}">530</span><span></span><span class="status-green">+50%</span></h4>
                            <h5>Estudiantes Atendidos</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="row">
            <!-- Panel principal con lista de atenciones -->

            <div class="container mt-5">
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="carrera" class="form-label">Carrera</label>
                      <select class="form-select" [(ngModel)]="selectedCarrera" (change)="onCarreraChange()">
                        <option *ngFor="let carrera of carreras" [value]="carrera.name">{{ carrera.name }}</option>
                      </select>
                    </div>
                  </div>
              
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="semestre" class="form-label">Semestre</label>
                      <select class="form-select" [(ngModel)]="selectedSemestre" (change)="onSemestreChange()">
                        <option *ngFor="let semestre of semestres" [value]="semestre.name">{{ semestre.name }}</option>
                      </select>
                    </div>
                  </div>
                </div>
              
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="paralelo" class="form-label">Paralelo</label>
                      <select class="form-select" [(ngModel)]="selectedParalelo" (change)="onParaleloChange()">
                        <option *ngFor="let paralelo of paralelos" [value]="paralelo.name">{{ paralelo.name }}</option>
                      </select>
                    </div>
                  </div>
              
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="estudiante" class="form-label">Estudiante</label>
                      <select class="form-select" [(ngModel)]="selectedEstudiante">
                        <option *ngFor="let estudiante of estudiantes" [value]="estudiante">{{ estudiante }}</option>
                      </select>
                    </div>
                  </div>
                </div>
              
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="atencion" class="form-label">Tipo de Atención</label>
                      <select class="form-select" [(ngModel)]="selectedAtencion">
                        <option *ngFor="let atencion of atenciones" [value]="atencion">{{ atencion }}</option>
                      </select>
                    </div>
                  </div>
                </div>
              
                <!-- Mostrar un campo para ingresar el detalle solo si se selecciona 'Revisión de Tesis' -->
                <div *ngIf="selectedAtencion === 'Revisión de Tesis'" class="mb-3">
                  <label for="detalleAtencion" class="form-label">Detalle de la Atención</label>
                  <textarea class="form-control" [(ngModel)]="detalleAtencion" rows="4" placeholder="Ejemplo: El estudiante vino a las [hora] para revisar su tesis."></textarea>
                </div>
              
                <!-- Mostrar el detalle ingresado de la atención -->
                <div *ngIf="selectedEstudiante && selectedAtencion" class="alert alert-info mt-4">
                  <strong>Detalle de la Atención:</strong> El estudiante {{ selectedEstudiante }} necesita atención para: {{ selectedAtencion }}.
                  <div *ngIf="detalleAtencion && selectedAtencion === 'Revisión de Tesis'" class="mt-3">
                    <strong>Detalle de la Tesis:</strong> {{ detalleAtencion }}
                  </div>
                </div>
              
                <!-- Botón para registrar la atención -->
                <div class="d-flex justify-content-center mt-4">
                  <button class="btn btn-primary" (click)="registrarAtencion()">Registrar Atención</button>
                </div>
              </div>
              
              
            <!-- Panel secundario con gráfica radial (porcentaje de atenciones realizadas) -->
         
            <!-- Panel terciario con estadísticas de atenciones recientes -->
            <div class="col-12 col-md-12 col-lg-6 col-xl-2 d-flex">
                <div class="struct-point">
                    <div class="card patient-structure">
                        <div class="card-body">
                            <h5>Atenciones Completadas</h5>
                            <h3>50<span class="status-green"><img src="assets/img/icons/sort-icon-01.svg" alt="" class="me-1">+40%</span></h3>
                        </div>
                    </div>
                    <div class="card patient-structure">
                        <div class="card-body">
                            <h5>Atenciones Pendientes</h5>
                            <h3>20<span class="status-pink"><img src="assets/img/icons/sort-icon-02.svg" alt="" class="me-1">-10%</span></h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        



        <div class="row">
           
            <div class="col-12 col-lg-12 col-xl-5 d-flex">
                <div class="card flex-fill comman-shadow">
                    <div class="card-header">
                        <h4 class="card-title d-inline-block">Recent Appointments</h4> <a [routerLink]="routes.appointmentList" class="patient-views float-end">Show all</a>
                    </div>
                    <div class="card-body">
                        <div class="teaching-card">
                            <ul class="steps-history">
                                <li>08:00</li>
                                <li>09:00</li>
                                <li>10:00</li>
                                <li>11:00</li>
                            </ul>
                            <ul class="activity-feed">
                                <li class="feed-item d-flex align-items-center">
                                    <div class="dolor-activity hide-activity">
                                        <ul class="doctor-date-list mb-2">
                                            <li class="stick-line"><i class="fas fa-circle me-2"></i>08:00 <span>Benjamin Bruklin</span></li>
                                            <li class="stick-line"><i class="fas fa-circle me-2"></i>08:00 <span>Andrea Lalema</span></li>
                                            <li class=" dropdown ongoing-blk ">
                                                <a href="javascript:void(0);" class="dropdown-toggle  active-doctor" data-bs-toggle="dropdown">
                                                    <i class="fas fa-circle me-2 active-circles"></i>08:00 <span>Andrea Lalema</span><span class="ongoing-drapt">Ongoing <i class="feather icon-chevron-down ms-2"></i></span>
                                                </a>
                                                <ul class="doctor-sub-list dropdown-menu">
                                                    <li class="patient-new-list dropdown-item">Patient<span>Marie kennedy</span><a href="javascript:;" class="new-dot status-green"><i class="fas fa-circle me-1 fa-2xs"></i>New</a></li>
                                                    <li class="dropdown-item">Time<span>8:30 - 9:00 (30min)</span></li>
                                                    <li class="schedule-blk mb-0 pt-2 dropdown-item">
                                                        <ul class="nav schedule-time">
                                                            <li><a href="javascript:;"><img src="assets/img/icons/trash.svg" alt=""></a></li>
                                                            <li><a href="javascript:;"><img src="assets/img/icons/profile.svg" alt=""></a></li>
                                                            <li><a href="javascript:;"><img src="assets/img/icons/edit.svg" alt=""></a></li>
                                                        </ul>
                                                        <a class="btn btn-primary appoint-start">Start Appointment</a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="feed-item d-flex align-items-center">
                                    <div class="dolor-activity">
                                        <ul class="doctor-date-list mb-2">
                                            <li><i class="fas fa-circle me-2"></i>09:00 <span>Galaviz Lalema</span></li>
                                            <li><i class="fas fa-circle me-2"></i>09:20 <span>Benjamin Bruklin</span></li>
                                            <li><i class="fas fa-circle me-2"></i>09:40 <span>Jenny Smith</span></li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="feed-item d-flex align-items-center">
                                    <div class="dolor-activity">
                                        <ul class="doctor-date-list mb-2">
                                            <li><i class="fas fa-circle me-2"></i>10:00 <span>Cristina Groves</span></li>
                                            <li><i class="fas fa-circle me-2"></i>10:30 <span>Benjamin Bruklin</span></li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="feed-item d-flex align-items-center">
                                    <div class="dolor-activity">
                                        <ul class="doctor-date-list mb-2">
                                            <li><i class="fas fa-circle me-2"></i>10:00 <span>Cristina Groves</span></li>
                                            <li><i class="fas fa-circle me-2"></i>10:30 <span>Benjamin Bruklin</span></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>